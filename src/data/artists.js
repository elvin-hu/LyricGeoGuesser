// Curated artist data with popular songs
// Songs include title and duration (in seconds) for LRCLIB API lookups

export const artists = [
  {
    id: 'taylor-swift',
    name: 'Taylor Swift',
    image: 'https://i.scdn.co/image/ab6761610000e5ebe672b5f553298dcdccb0e676',
    songs: [
      // The Tortured Poets Department
      { title: 'Fortnight', album: 'The Tortured Poets Department', duration: 228 },
      { title: 'The Tortured Poets Department', album: 'The Tortured Poets Department', duration: 293 },
      { title: 'My Boy Only Breaks His Favorite Toys', album: 'The Tortured Poets Department', duration: 203 },
      { title: 'Down Bad', album: 'The Tortured Poets Department', duration: 261 },
      { title: 'So Long, London', album: 'The Tortured Poets Department', duration: 262 },
      { title: 'But Daddy I Love Him', album: 'The Tortured Poets Department', duration: 335 },
      { title: 'Fresh Out The Slammer', album: 'The Tortured Poets Department', duration: 210 },
      { title: 'I Can Do It With a Broken Heart', album: 'The Tortured Poets Department', duration: 218 },
      // Midnights
      { title: 'Anti-Hero', album: 'Midnights', duration: 200 },
      { title: 'Lavender Haze', album: 'Midnights', duration: 202 },
      { title: 'Maroon', album: 'Midnights', duration: 218 },
      { title: 'Snow On The Beach', album: 'Midnights', duration: 256 },
      { title: 'Midnight Rain', album: 'Midnights', duration: 174 },
      { title: 'Bejeweled', album: 'Midnights', duration: 194 },
      { title: 'Karma', album: 'Midnights', duration: 204 },
      { title: 'Vigilante Shit', album: 'Midnights', duration: 165 },
      // Evermore
      { title: 'Willow', album: 'Evermore', duration: 214 },
      { title: 'Champagne Problems', album: 'Evermore', duration: 244 },
      { title: 'Gold Rush', album: 'Evermore', duration: 185 },
      { title: 'No Body, No Crime', album: 'Evermore', duration: 215 },
      { title: 'Tolerate It', album: 'Evermore', duration: 245 },
      { title: 'Ivy', album: 'Evermore', duration: 260 },
      // Folklore
      { title: 'Cardigan', album: 'Folklore', duration: 239 },
      { title: 'August', album: 'Folklore', duration: 262 },
      { title: 'Betty', album: 'Folklore', duration: 294 },
      { title: 'The 1', album: 'Folklore', duration: 210 },
      { title: 'Exile', album: 'Folklore', duration: 285 },
      { title: 'Seven', album: 'Folklore', duration: 229 },
      { title: 'Invisible String', album: 'Folklore', duration: 252 },
      // Lover
      { title: 'Cruel Summer', album: 'Lover', duration: 178 },
      { title: 'Lover', album: 'Lover', duration: 221 },
      { title: 'The Man', album: 'Lover', duration: 190 },
      { title: 'Paper Rings', album: 'Lover', duration: 222 },
      { title: 'Cornelia Street', album: 'Lover', duration: 287 },
      { title: 'Death By A Thousand Cuts', album: 'Lover', duration: 198 },
      // Reputation
      { title: 'Ready For It', album: 'Reputation', duration: 208 },
      { title: 'Delicate', album: 'Reputation', duration: 232 },
      { title: 'Look What You Made Me Do', album: 'Reputation', duration: 211 },
      { title: 'Getaway Car', album: 'Reputation', duration: 234 },
      { title: 'Dress', album: 'Reputation', duration: 231 },
      // 1989
      { title: 'Blank Space', album: '1989', duration: 231 },
      { title: 'Shake It Off', album: '1989', duration: 219 },
      { title: 'Style', album: '1989', duration: 231 },
      { title: 'Bad Blood', album: '1989', duration: 211 },
      { title: 'Wildest Dreams', album: '1989', duration: 220 },
      { title: 'Out Of The Woods', album: '1989', duration: 235 },
      // Red
      { title: 'All Too Well', album: 'Red', duration: 329 },
      { title: 'We Are Never Getting Back Together', album: 'Red', duration: 193 },
      { title: 'I Knew You Were Trouble', album: 'Red', duration: 220 },
      { title: '22', album: 'Red', duration: 232 },
      // Speak Now
      { title: 'Enchanted', album: 'Speak Now', duration: 352 },
      { title: 'Back To December', album: 'Speak Now', duration: 293 },
      { title: 'Mean', album: 'Speak Now', duration: 240 },
      // Fearless
      { title: 'Love Story', album: 'Fearless', duration: 235 },
      { title: 'You Belong With Me', album: 'Fearless', duration: 231 },
      { title: 'Fifteen', album: 'Fearless', duration: 294 },
    ]
  },
  {
    id: 'utada-hikaru',
    name: 'Utada Hikaru',
    image: 'https://ui-avatars.com/api/?name=Utada+Hikaru&background=8B5CF6&color=fff&size=200',
    songs: [
      { title: 'First Love', album: 'First Love', duration: 249 },
      { title: 'Automatic', album: 'First Love', duration: 325 },
      { title: 'Hikari', album: 'Deep River', duration: 325 },
      { title: 'Simple And Clean', album: 'Kingdom Hearts', duration: 320 },
      { title: 'Flavor Of Life', album: 'Heart Station', duration: 301 },
      { title: 'Beautiful World', album: 'Evangelion', duration: 333 },
      { title: 'Passion', album: 'Ultra Blue', duration: 305 },
      { title: 'Sanctuary', album: 'Kingdom Hearts II', duration: 282 },
      { title: 'One Last Kiss', album: 'Evangelion', duration: 262 },
      { title: 'Face My Fears', album: 'Kingdom Hearts III', duration: 224 },
      { title: 'traveling', album: 'Deep River', duration: 324 },
      { title: 'Addicted To You', album: 'First Love', duration: 273 },
      { title: 'Can You Keep A Secret', album: 'Distance', duration: 285 },
      { title: 'Sakura Drops', album: 'Deep River', duration: 295 },
      { title: 'Prisoner Of Love', album: 'Heart Station', duration: 296 },
      { title: 'Be My Last', album: 'Ultra Blue', duration: 274 },
      { title: 'Colors', album: 'Ultra Blue', duration: 306 },
      { title: 'Goodbye Happiness', album: 'Utada Hikaru Single Collection Vol.2', duration: 268 },
      { title: 'Merry Christmas Mr. Lawrence', album: 'Fantome', duration: 276 },
      { title: 'Hatsukoi', album: 'Hatsukoi', duration: 266 },
    ]
  },
  {
    id: 'sabrina-carpenter',
    name: 'Sabrina Carpenter',
    image: 'https://ui-avatars.com/api/?name=Sabrina+Carpenter&background=EC4899&color=fff&size=200',
    songs: [
      // Short n' Sweet (2024)
      { title: 'Espresso', album: "Short n' Sweet", duration: 175 },
      { title: 'Please Please Please', album: "Short n' Sweet", duration: 186 },
      { title: 'Taste', album: "Short n' Sweet", duration: 157 },
      { title: 'Bed Chem', album: "Short n' Sweet", duration: 178 },
      { title: 'Coincidence', album: "Short n' Sweet", duration: 185 },
      { title: 'Slim Pickins', album: "Short n' Sweet", duration: 173 },
      { title: 'Juno', album: "Short n' Sweet", duration: 169 },
      { title: 'Sharpest Tool', album: "Short n' Sweet", duration: 199 },
      { title: 'Dumb & Poetic', album: "Short n' Sweet", duration: 182 },
      { title: 'Lie To Girls', album: "Short n' Sweet", duration: 195 },
      { title: "Don't Smile", album: "Short n' Sweet", duration: 168 },
      { title: 'Good Graces', album: "Short n' Sweet", duration: 188 },
      // emails i can't send (2022)
      { title: 'Feather', album: "emails i can't send", duration: 194 },
      { title: 'Nonsense', album: "emails i can't send", duration: 172 },
      { title: 'because i liked a boy', album: "emails i can't send", duration: 198 },
      { title: 'Read your Mind', album: "emails i can't send", duration: 208 },
      { title: 'Vicious', album: "emails i can't send", duration: 188 },
      { title: 'Already Over', album: "emails i can't send", duration: 201 },
      { title: 'Fast Times', album: "emails i can't send", duration: 183 },
      { title: 'How Many Things', album: "emails i can't send", duration: 195 },
      { title: 'bet u wanna', album: "emails i can't send", duration: 178 },
      { title: 'tornado warnings', album: "emails i can't send", duration: 203 },
      { title: 'decode', album: "emails i can't send", duration: 189 },
      { title: 'opposite', album: "emails i can't send", duration: 186 },
      // Singular Act II (2019)
      { title: 'Skin', album: 'Singular Act II', duration: 193 },
      { title: 'Looking at Me', album: 'Singular Act II', duration: 156 },
      { title: 'In My Bed', album: 'Singular Act II', duration: 188 },
      { title: 'Pushing 20', album: 'Singular Act II', duration: 194 },
      { title: 'Exhale', album: 'Singular Act II', duration: 203 },
      { title: 'Paris', album: 'Singular Act II', duration: 179 },
    ]
  }
];

export const getArtistById = (id) => artists.find(a => a.id === id);

// Track last used song to prevent back-to-back repeats between rounds
let lastUsedSongTitle = null;

export const getRandomSongs = (artistId, count = 15) => {
  const artist = getArtistById(artistId);
  if (!artist) return [];

  // Shuffle songs
  const shuffled = [...artist.songs].sort(() => Math.random() - 0.5);

  // Filter out the last used song from previous round
  const filtered = shuffled.filter((song, index) => {
    if (index === 0 && song.title === lastUsedSongTitle) {
      return false;
    }
    return true;
  });

  const result = filtered.slice(0, Math.min(count, filtered.length));

  if (result.length > 0) {
    lastUsedSongTitle = result[result.length - 1].title;
  }

  return result;
};

export const resetSongTracking = () => {
  lastUsedSongTitle = null;
};
